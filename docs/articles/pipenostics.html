<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Concepts and Useful Notes • pipenostics</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Concepts and Useful Notes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pipenostics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/pipenostics.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/FailureEstimation.html">Pipeline Failure Estimation</a></li>
    <li><a class="dropdown-item" href="../articles/RegimeTracing.html">District Heating Regime Tracing</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/omega1x/pipenostics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Concepts and Useful Notes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/omega1x/pipenostics/blob/HEAD/vignettes/articles/pipenostics.Rmd" class="external-link"><code>vignettes/articles/pipenostics.Rmd</code></a></small>
      <div class="d-none name"><code>pipenostics.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="underlying-concepts-grasped-from-subject-area">Underlying concepts grasped from subject area<a class="anchor" aria-label="anchor" href="#underlying-concepts-grasped-from-subject-area"></a>
</h2>
<p>Since the package aggregates some of the individual knowledge
regarding engineering, reliability, diagnostics, and predictive
maintenance of pipeline systems, it starts by grasping the underlying
concepts from the subject area.</p>
<div class="section level3">
<h3 id="corrosion-diagnostics">Corrosion diagnostics<a class="anchor" aria-label="anchor" href="#corrosion-diagnostics"></a>
</h3>
<p>It is recognized by pipeline companies that some sections of high
pressure pipelines particularly those installed a number of years ago,
have experienced some corrosion. Where corrosion is found, pipeline
operators have been deeply concerned about the need for a method of
determining the remaining strength of these corroded areas. If the
corrosion does not penetrate the pipe wall, what is the pressure
containing capability of the remaining pipe metal in terms of its
ability to continue to operate safely at the maximum allowable operating
pressure (<a href="https://en.wikipedia.org/wiki/Maximum_allowable_operating_pressure" class="external-link">MAOP</a>)
of pipeline system?</p>
<p>Thus, one of the needs of pipeline industry has been a procedure that
will help operators, particularly field personnel, make decisions on
existing pipelines, when exposed for any purpose, as to whether any
corroded region may be left in service or whether it needs to be
repaired or replaced. Such determinations must be based upon sound
research and extensive testing in order to provide safe and conservative
guidelines on which to base field decisions.</p>
<p><a href="https://law.resource.org/pub/us/cfr/ibr/002/asme.b31g.1991.pdf" class="external-link">ASME
B31G-1991</a> and <a href="https://www.asme.org/codes-standards/find-codes-standards/b31g-manual-determining-remaining-strength-corroded-pipelines" class="external-link">ASME
B31G-2012</a> codes have proven sound and have seen successful use in
the pipeline industry providing users with such required formalized
framework for a very long period of time. That is why failure pressure
calculators <code><a href="../reference/b31gpf.html">b31gpf()</a></code> and <code><a href="../reference/b31gmodpf.html">b31gmodpf()</a></code> are
widely used in assessment of POFs.</p>
<p>To preserve simplicity of traditional inline measurements during
inspections we hereinafter consider only <strong>Analysis Level
1</strong> in this <em>R</em>-package, since as noted in <a href="https://www.asme.org/codes-standards/find-codes-standards/b31g-manual-determining-remaining-strength-corroded-pipelines" class="external-link">ASME
B31G-2012</a> <strong>Level 1</strong> evaluation is quite suitable for
use in prioritizing corrosion defects identified by <em>inline
inspection</em>.</p>
<p>Other approaches for operating with corrosion data presented in the
package are aimed on failure pressure calculations. Models like
<code><a href="../reference/dnvpf.html">dnvpf()</a></code>, <code><a href="../reference/shell92pf.html">shell92pf()</a></code>, and
<code><a href="../reference/pcorrcpf.html">pcorrcpf()</a></code> assume different shapes of corrosion defects and
usage conditions for some cases. So, it is encouraged first to find out
which model is most suitable for solving some real world problem.</p>
<p>For the sake of simplicity and transparency the next values
describing technological conditions, material properties of pipe and
defect parameters are used as arguments throughout the most functions
concerning corrosion diagnostics:</p>
<ul>
<li>
<em>maop</em> - maximum allowable operating pressure - <a href="https://en.wikipedia.org/wiki/Maximum_allowable_operating_pressure" class="external-link">MAOP</a>
in <a href="https://en.wikipedia.org/wiki/Pounds_per_square_inch" class="external-link">PSI</a>
</li>
<li>
<em>d</em> - nominal outside diameter of pipe, <a href="https://en.wikipedia.org/wiki/Inch" class="external-link">inch</a>, or <a href="https://en.wikipedia.org/wiki/Millimetre" class="external-link">mm</a>
</li>
<li>
<em>wth</em> - nominal wall thickness of pipe, <a href="https://en.wikipedia.org/wiki/Inch" class="external-link">inch</a>, or <a href="https://en.wikipedia.org/wiki/Millimetre" class="external-link">mm</a>
</li>
<li>
<em>smys</em> - specified minimum yield of stress - <a href="https://en.wikipedia.org/wiki/Specified_minimum_yield_strength" class="external-link">SMYS</a>
as a characteristics of steel strength, <a href="https://en.wikipedia.org/wiki/Pounds_per_square_inch" class="external-link">PSI</a>
</li>
<li>
<em>uts</em> - ultimate tensile strength - <a href="https://en.wikipedia.org/wiki/Ultimate_tensile_strength" class="external-link">UTS</a>
or specified minimum tensile strength (SMTS) as another characteristic
of steel strength, <a href="https://en.wikipedia.org/wiki/Pascal_(unit)" class="external-link">MPa</a>
</li>
<li>
<em>depth</em> - measured maximum depth of the corroded area, <a href="https://en.wikipedia.org/wiki/Inch" class="external-link">inch</a>, or <a href="https://en.wikipedia.org/wiki/Millimetre" class="external-link">mm</a>
</li>
<li>
<em>l</em> - measured maximum longitudinal length of the corroded
area, <a href="https://en.wikipedia.org/wiki/Inch" class="external-link">inch</a>, or <a href="https://en.wikipedia.org/wiki/Millimetre" class="external-link">mm</a>
</li>
</ul>
<p>In the course of further development of functionality of this
package, some revisions or supplements to the existing concept are not
excepted.</p>
</div>
<div class="section level3">
<h3 id="probability-of-failure">Probability of failure<a class="anchor" aria-label="anchor" href="#probability-of-failure"></a>
</h3>
<p>Consistent estimate of failure for pipeline systems plays a critical
role in optimizing their operation. To prevent pipeline failures due to
growing corrosion defects it is necessary to assess the pipeline failure
probability (POF) during a certain period, taking into account its
actual level of defectiveness.</p>
<p>The pipeline failure is preceded by limit state which comes when the
burst pressure, considered as a random variable, reaches an unacceptable
level, or when the defect depth, also a random variable, exceeds the
predetermined limit value.</p>
<p>Up to now no methods existed which would give absolutely correct POF
assessments. Nevertheless the stochastic nature of corrosion processes
clearly suggests exploiting of <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Monte_Carlo_and_random_numbers" class="external-link">Monte-Carlo
simulations</a> (MC). Meanwhile the lack of comprehensive knowledge of
stochastic properties of characteristics of pipe and of its defects aids
in embracing of <a href="https://en.wikipedia.org/wiki/Principle_of_maximum_entropy" class="external-link">Principle
of maximum entropy</a> which allows to avoid doubtful and excessive
preferences and specifications when choosing probability distribution
models for failure factors and for <em>inline inspection</em>
measurements.</p>
<p>Package function <code><a href="../reference/mepof.html">mepof()</a></code> is designed to calculate
probability of failure (POF) of the corroded pipe by <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Monte_Carlo_and_random_numbers" class="external-link">MC</a>,
assigning maximum entropy for stochastic nature of corroded area length
and depth, as well as engineering characteristics of pipe with
thermal-hydraulic regime parameters.</p>
</div>
<div class="section level3">
<h3 id="heat-loss">Heat loss<a class="anchor" aria-label="anchor" href="#heat-loss"></a>
</h3>
<p><em>Heat loss</em> is the energy characteristic of district heating
networks. It is the amount of heat energy spent on the transportation
and distribution of heat energy from the source to the consumers.</p>
<p><em>Heat loss</em> depends on the operating temperature, technical
condition, volume and configuration of district heating network, as well
as on climatic factors. <em>Heat loss</em> is additive being the sum of
<em>heat losses</em> of individual pipeline segments.</p>
<p>Determination of heat loss for pipeline segments hereinafter is
called <em>heat loss localization</em>.</p>
<p>It is assumed that actual heat loss (<span class="math inline">\(Q_{\text{AHL}}\)</span>, [<a href="https://en.wikipedia.org/wiki/Calorie" class="external-link">kcal</a>]) of pipeline
segment in certain period of time (duration) has two contributions:
normative heat loss (<span class="math inline">\(Q_{\text{NHL}}\)</span>, [<a href="https://en.wikipedia.org/wiki/Calorie" class="external-link">kcal</a>])) and
extra-normative heat loss (<span class="math inline">\(Q_{\text{ExNHL}}\)</span>, [<a href="https://en.wikipedia.org/wiki/Calorie" class="external-link">kcal</a>])). So we can
write:</p>
<p><span class="math display">\[
Q_{\text{AHL}}=Q_{\text{NHL}}+Q_{\text{ExNHL}},\  Q_{\text{ExNHL}}&gt;0
\]</span></p>
<p>Localization of <span class="math inline">\(Q_{\text{ExNHL}}\)</span>
is an important part of health maintenance activities of district
heating network operation. One can determine <span class="math inline">\(Q_{\text{ExNHL}}\)</span> of pipeline segment as a
positive difference between <span class="math inline">\(Q_{\text{AHL}}\)</span> and <span class="math inline">\(Q_{\text{NHL}}\)</span> and it is the most natural
way. For that purpose <a href="https://docs.cntd.ru/document/902148459" class="external-link">Minenergo-325</a> and <a href="https://docs.cntd.ru/document/1200035568" class="external-link">Minenergo-278</a>
methods for postulating <span class="math inline">\(Q_{\text{NHL}}\)</span> are considered.</p>
<p><a href="https://docs.cntd.ru/document/902148459" class="external-link">Minenergo-325</a>
lists legally affirmed maximum values of <em>specific heat loss
power</em> (<span class="math inline">\(q_s\)</span>, <em>kcal/m/h</em>)
which is allowed for fault-free steel pipes (see
<code><a href="../reference/m325nhl.html">m325nhl()</a></code>), so that normative heat loss of <em>L</em>-meter
length pipe for a duration <span class="math inline">\(\tau\)</span>
is</p>
<p><span class="math display">\[Q_{NHL} =
L\int_{\tau}^{}q_s(\tau)d\tau\]</span></p>
<blockquote>
<p>ℹ <em>Specific heat loss power</em> may also be referred as specific
<a href="https://en.wikipedia.org/wiki/Rate_of_heat_flow" class="external-link">rate of heat
flow</a>. Specific powers (specific rates of heat flow) higher than
<span class="math inline">\(q_s\)</span> contribute to <span class="math inline">\(Q_{\text{ExNHL}}\)</span>.</p>
</blockquote>
<p><a href="https://docs.cntd.ru/document/1200035568" class="external-link">Minenergo-278</a>
gives mathematical models for calculation of <em>specific heat loss
power</em> (<span class="math inline">\(q_s\)</span>) as a function of
thermal-hydraulic regime and technical condition of pipeline segment
(see <code><a href="../reference/m278hlcha.html">m278hlcha()</a></code>, <code><a href="../reference/m278hlund.html">m278hlund()</a></code>, and
<code><a href="../reference/m278hlair.html">m278hlair()</a></code>).</p>
<p><em>Specific heat loss power</em> (<span class="math inline">\(q_{s}\)</span>, <em>kcal/m/h</em>) of cylindrical
pipe can be more naturally expressed via the value of <a href="https://en.wikipedia.org/wiki/Heat_flux" class="external-link">heat flux</a> (<span class="math inline">\(\phi_q\)</span>, <a href="https://en.wikipedia.org/wiki/Heat_flux" class="external-link">W/m²</a>) output by pipe
wall through unit area:</p>
<p><span class="math display">\[q_s = \frac{3600}{4186.8} \cdot \phi_q
\cdot \pi d\]</span></p>
<p>where <span class="math inline">\(d\)</span>, [<a href="https://en.wikipedia.org/wiki/Metre" class="external-link">m</a>], is an outside
diameter of pipe, and <span class="math inline">\(\frac{3600}{4186.8}\pi
= 2.701283\)</span> (<em>kcal/h/W</em>) is a dimension factor (see
<code><a href="../reference/flux.html">loss_flux()</a></code>, <code><a href="../reference/flux.html">flux_loss()</a></code>).</p>
<p><em>Heat loss power for a pipe</em> (<span class="math inline">\(q_p\)</span>, <em>kcal/hour</em>) may be
calculated as <span class="math display">\[q_p = q_s L\]</span></p>
<p>where <span class="math inline">\(L\)</span> is a pipe length.</p>
</div>
<div class="section level3">
<h3 id="tracing-of-thermal-hydraulic-regime">Tracing of thermal-hydraulic regime<a class="anchor" aria-label="anchor" href="#tracing-of-thermal-hydraulic-regime"></a>
</h3>
<p>Localization of extra-normative heat loss <span class="math inline">\(Q_{\text{ExNHL}}\)</span> could be performed if
they know thermal-hydraulic regime of district heating network for each
pipeline segment. In most cases thermal-hydraulic field (values of
temperature, pressure and heat carrier mass flow rate) is measured only
on heat-supply origins and near consumers, i.e. mostly on terminal nodes
of pipeline network. Middle segments of network are rarely equipped and
thus are not sensor-measured. For restoring of thermal-hydraulic field
at each pipeline segment they can trace temperature, pressure and
heat-carrier flow rate using hydraulic and thermal laws and engineering
characteristics of each pipe. Since only normative values of heat flux
are accessible for calculations the restored thermal-hydraulic field is
a normative (not actual) one. Nevertheless, even tracing small networks
may produce local inconsistencies in restored normative field and those
facts signal for possible extra-normative heat loss in-situ. In
accordance to sensor positions forward (see <code><a href="../reference/m325tracefw.html">m325tracefw()</a></code>,
<code><a href="../reference/m325traceline.html">m325traceline()</a></code>) and backward ( see
<code><a href="../reference/m325tracebw.html">m325tracebw()</a></code>, <code>m325traceline(forward = FALSE)</code>)
tracing can be performed for the linear and the bunched pipelines (also
with massive data lack) on the basis of <a href="https://docs.cntd.ru/document/902148459" class="external-link">Minenergo-325</a>
norms.</p>
</div>
</div>
<div class="section level2">
<h2 id="developer-notes">Developer notes<a class="anchor" aria-label="anchor" href="#developer-notes"></a>
</h2>
<p>Aiming to avoid portability and accessibility problems made us search
ways to restrict source code development by functionality of few
external packages.</p>
<p>Since most functions have native argument vectorization usage of
those functions with fast <a href="https://cran.r-project.org/package=data.table" class="external-link">data.table</a>
framework is strongly encouraged when processing large data sets. For
that purpose arguments for all package functions are thoroughly checked
for type consistency and physical sense using asserts and tests from <a href="https://cran.r-project.org/package=checkmate" class="external-link">checkmate</a>
package. Moreover, in package documentation we borrow type designations
according to <a href="https://cran.r-project.org/package=checkmate" class="external-link">checkmate</a>
notation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yuri Possokhov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
