<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Consumption drop in pipe — dropg • pipenostics</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Consumption drop in pipe — dropg"><meta property="og:description" content="Calculate drop or recovery of consumption in pipe using
 geometric factors.
The calculated value may be positive or negative. When it is positive they
 have the drop, i.e. the decrease of consumption in the outlet of pipe
 under consideration. When the calculated value is negative they have the
 recovery, i.e. the increase of consumption in the outlet of pipe under
 consideration. In both cases to calculate consumption on the outlet of pipe
 under consideration simply subtract the calculated value from the
 sensor-measured consumption on the inlet."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pipenostics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/omega1x/pipenostics/" class="external-link">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Consumption drop in pipe</h1>
    <small class="dont-index">Source: <a href="https://github.com/omega1x/pipenostics/blob/HEAD/R/dropg.R" class="external-link"><code>R/dropg.R</code></a></small>
    <div class="hidden name"><code>dropg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate <em>drop</em> or <em>recovery</em> of consumption in pipe using
 geometric factors.</p>
<p>The calculated value may be positive or negative. When it is positive they
 have the <em>drop</em>, i.e. the decrease of consumption in the outlet of pipe
 under consideration. When the calculated value is negative they have the
 <em>recovery</em>, i.e. the increase of consumption in the outlet of pipe under
 consideration. In both cases to calculate consumption on the outlet of pipe
 under consideration simply subtract the calculated value from the
 sensor-measured consumption on the inlet.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">dropg</span><span class="op">(</span>adj <span class="op">=</span> <span class="fl">0</span>, d <span class="op">=</span> <span class="fl">700</span>, consumption <span class="op">=</span> <span class="fl">250</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>adj</dt>
<dd><p>diameters of adjacent pipes through which discharges to and recharges from
 network occur, [<em>mm</em>].</p>
<p>Types:</p>
<p></p><dl><dt><code>assert_double</code></dt>
<dd><p>total diameter of all adjacent pipes (total diameter case)</p></dd>

   <dt><code>assert_list</code> of <code>assert_double</code></dt>
<dd><p>a set of
      diameters of adjacent pipes (particular diameter case)</p></dd>

 
</dl><p>Positive values of diameters of adjacent pipes correspond to discharging
 process through those pipe, whereas negative values of diameters mean
 recharging. See <em>Details</em> and <em>Examples</em> for further explanations.</p></dd>
<dt>d</dt>
<dd><p>diameter of pipe under consideration, [<em>mm</em>]. Type: <code>assert_double</code>.</p></dd>
<dt>consumption</dt>
<dd><p>sensor-measured amount of heat carrier (water) that is transferred through
the inlet of pipe during a period, [<em>ton/hour</em>]. Type: <code>assert_double</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>consumption <em>drop</em> or <em>recovery</em> at the outlet of pipe,
 [<em>ton/hour</em>], numeric vector. The value is positive for <em>drop</em>,
 whereas for <em>recovery</em> it is negative. In both cases to calculate
 consumption on the outlet of pipe under consideration simply subtract the
 calculated value from the sensor-measured consumption on the inlet.
 Type: <code>assert_double</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>It is common that sensor-measured consumption undergoes discharges to
 network and recharges from it. For calculation of consumption <em>drop</em> or
 <em>recovery</em> the next configuration of district heating network segment is
 assumed:</p>
<p><img src="figures/dropg.png" alt=""></p>
<p>Usually, there are no additional sensors that could measure consumption in
 each flow fork. In that case they only may operate with geometric
 factors, i.e. assuming that flow rate is proportional to square of pipe
 diameter.</p>
<p>The simple summation of flow rates over all adjacent pipes produces
 the required consumption <em>drop</em> or <em>recovery</em> located on the
 outlet of the pipe under consideration. Since there is concurrency between
 discharges and recharges the diameters of discharge pipes are regarded
 positive whereas diameters of recharge pipes must be negative.</p>
<p>Be careful when dealing with geometric factors for large amount of recharges
 from network: there are no additional physical constraints and thus the
 calculated value of <em>recovery</em> may have non-sense.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other district heating: 
<code><a href="dropp.html">dropp</a>()</code>,
<code><a href="dropt.html">dropt</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Let consider pipes according to network segment scheme depicted in figure</span></span>
<span class="r-in"><span class="co"># in ?dropg help-page.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Typical large diameters of pipes under consideration, [mm]:</span></span>
<span class="r-in"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu">pipenostics</span><span class="fu">::</span><span class="va"><a href="m325nhldata.html">m325nhldata</a></span>, <span class="va">diameter</span> <span class="op">&gt;</span> <span class="fl">700</span><span class="op">)</span><span class="op">$</span><span class="va">diameter</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Let sensor-measured consumption in the inlet of the pipe</span></span>
<span class="r-in"><span class="co"># under consideration be proportional to d, [ton/hour]:</span></span>
<span class="r-in"><span class="va">consumption</span> <span class="op">&lt;-</span> <span class="fl">.125</span><span class="op">*</span><span class="va">d</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Let consider total diameter case when total diameters of adjacent pipes are no</span></span>
<span class="r-in"><span class="co"># more than d, [mm]:</span></span>
<span class="r-in"><span class="va">adj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">450</span>, <span class="op">-</span><span class="fl">400</span>, <span class="fl">950</span>, <span class="op">-</span><span class="fl">255</span>, <span class="fl">1152</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># As at may be seen for the second and fourth cases they predominantly have</span></span>
<span class="r-in"><span class="co"># recharges from network.</span></span>
<span class="r-in"><span class="co"># Let calculate consumption on the outlet of the pipe under consideration,</span></span>
<span class="r-in"><span class="co"># [ton/hour]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">result</span> <span class="op">&lt;-</span> <span class="va">consumption</span> <span class="op">-</span> <span class="fu">dropg</span><span class="op">(</span><span class="va">adj</span>, <span class="va">d</span>, <span class="va">consumption</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  75.96439 134.72222  65.70302 180.80580  78.05995</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># [1]  75.96439 134.72222  65.70302 180.80580  78.05995</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># For more clarity they may perform calculations in data.table.</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Yuri Possokhov.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

