<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Minenergo-325. Trace thermal-hydraulic regime for linear segment — m325traceline • pipenostics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Minenergo-325. Trace thermal-hydraulic regime for linear segment — m325traceline" />
<meta property="og:description" content="Trace values of thermal-hydraulic regime (temperature, pressure,
 consumption) along the adjacent linear segments of pipeline using norms of
 heat flux values prescribed by
 Minenergo Order 325." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pipenostics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/omega1x/pipenostics/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Minenergo-325. Trace thermal-hydraulic regime for linear segment</h1>
    <small class="dont-index">Source: <a href='https://github.com/omega1x/pipenostics/blob/master/R/m325traceline.R'><code>R/m325traceline.R</code></a></small>
    <div class="hidden name"><code>m325traceline.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Trace values of thermal-hydraulic regime (temperature, pressure,
 consumption) along the adjacent linear segments of pipeline using norms of
 heat flux values prescribed by
 <a href='http://docs.cntd.ru/document/902148459'>Minenergo Order 325</a>.</p>
    </div>

    <pre class="usage"><span class='fu'>m325traceline</span><span class='op'>(</span>
  temperature <span class='op'>=</span> <span class='fl'>130</span>,
  pressure <span class='op'>=</span> <span class='fu'><a href='mpa_kgf.html'>mpa_kgf</a></span><span class='op'>(</span><span class='fl'>6</span><span class='op'>)</span>,
  consumption <span class='op'>=</span> <span class='fl'>250</span>,
  g <span class='op'>=</span> <span class='fl'>0</span>,
  d <span class='op'>=</span> <span class='fl'>700</span>,
  len <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>600</span>, <span class='fl'>530</span>, <span class='fl'>300</span>, <span class='fl'>350</span><span class='op'>)</span>,
  year <span class='op'>=</span> <span class='fl'>1986</span>,
  insulation <span class='op'>=</span> <span class='fl'>0</span>,
  laying <span class='op'>=</span> <span class='st'>"underground"</span>,
  beta <span class='op'>=</span> <span class='cn'>FALSE</span>,
  exp5k <span class='op'>=</span> <span class='cn'>TRUE</span>,
  roughness <span class='op'>=</span> <span class='fl'>0.006</span>,
  inlet <span class='op'>=</span> <span class='fl'>0</span>,
  outlet <span class='op'>=</span> <span class='fl'>0</span>,
  elev_tol <span class='op'>=</span> <span class='fl'>0.1</span>,
  method <span class='op'>=</span> <span class='st'>"romeo"</span>,
  forward <span class='op'>=</span> <span class='cn'>TRUE</span>,
  absg <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>temperature</th>
      <td><p>temperature of heat carrier (water) inside the pipe sensor-measured at the inlet
(forward tracing) or at the outlet (backward tracing) of path, [<em>°C</em>].
Type: <code>[number]</code>.</p></td>
    </tr>
    <tr>
      <th>pressure</th>
      <td><p><a href='https://en.wikipedia.org/wiki/Pressure_measurement#Absolute'>absolute pressure</a>
of heat carrier (water) sensor-measured at the inlet
(forward tracing) or at the outlet (backward tracing) of path, [<em>MPa</em>].
Type: <code>[number]</code>.</p></td>
    </tr>
    <tr>
      <th>consumption</th>
      <td><p>amount of heat carrier (water) sensor-measured at the inlet (forward tracing) or at
the outlet (backward tracing) of path, [<em>ton/hour</em>].
Type: <code>[number]</code>.</p></td>
    </tr>
    <tr>
      <th>g</th>
      <td><p>amount of heat carrier discharge to network for each pipe segment in the
tracing path enumerated along the direction of flow. If flag <code>absg</code>
is <code>TRUE</code> then they treat argument <code>g</code> as absolute value in
[<em>ton/hour</em>], otherwise they do as percentage of consumption in the
pipe segment.
Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>d</th>
      <td><p>internal diameters of subsequent pipes in tracing path that are enumerated
along the direction of flow, [<em>mm</em>].
Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>len</th>
      <td><p>length of subsequent pipes in tracing path that are enumerated
along the direction of flow, [<em>m</em>].
Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>year when pipe is put in operation after laying or total overhaul for
each pipe in tracing path enumerated along the direction of flow.
Type: <code>[integerish]</code>.</p></td>
    </tr>
    <tr>
      <th>insulation</th>
      <td><p>insulation that covers the exterior of pipe:</p><dl>
  <dt><code>0</code></dt><dd><p>no insulation</p></dd>
  <dt><code>1</code></dt><dd><p>foamed polyurethane or analogue</p></dd>
  <dt><code>2</code></dt><dd><p>polymer concrete</p></dd>

</dl><p>for each pipe in tracing path enumerated along the direction of flow.
Type: <code>[double, subset]</code>.</p></td>
    </tr>
    <tr>
      <th>laying</th>
      <td><p>type of pipe laying depicting the position of pipe in space:</p><ul>
<li><p><code>air</code></p></li>
<li><p><code>channel</code></p></li>
<li><p><code>room</code></p></li>
<li><p><code>tunnel</code></p></li>
<li><p><code>underground</code></p></li>
</ul><p>for each pipe in tracing path enumerated along the direction of flow.
Type: <code>[character, subset]</code>.</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>should they consider additional heat losses of fittings? Logical value
for each pipe in tracing path enumerated along the direction of flow.
Type: <code>[logical]</code>.</p></td>
    </tr>
    <tr>
      <th>exp5k</th>
      <td><p>pipe regime flag: is pipe operated more that <code>5000</code> hours per year? Logical
value for each pipe in tracing path enumerated along the direction of flow.
Type: <code>[logical]</code>.</p></td>
    </tr>
    <tr>
      <th>roughness</th>
      <td><p>roughness of internal wall for each pipe in tracing path enumerated along
the direction of flow, [<em>m</em>]. Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>inlet</th>
      <td><p>elevation of pipe inlet for each pipe in tracing path enumerated along
the direction of flow, [<em>m</em>]. Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>outlet</th>
      <td><p>elevation of pipe outlet for each pipe in tracing path enumerated along
the direction of flow, [<em>m</em>]. Type: <code>[double]</code>.</p></td>
    </tr>
    <tr>
      <th>elev_tol</th>
      <td><p>maximum allowed discrepancy between adjacent outlet and inlet elevations of
two subsequent pipes in the traced path, [<em>m</em>]. Type: <code>[number]</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>method of determining <em>Darcy friction factor</em></p><ul>
<li><p><code>romeo</code></p></li>
<li><p><code>vatankhan</code></p></li>
<li><p><code>buzelli</code></p></li>
</ul><p>Type: <code>[character, choice]</code>. For more details see <code><a href='dropp.html'>dropp</a></code>.</p></td>
    </tr>
    <tr>
      <th>forward</th>
      <td><p>tracing direction flag: is it a forward direction of tracing?
If <code>FALSE</code> the backward tracing is performed.
Type: <code>[flag]</code>.</p></td>
    </tr>
    <tr>
      <th>absg</th>
      <td><p>Whether argument <code>g</code> (amount of heat carrier discharge to network) is an
absolute value in [<em>ton/hour</em>] (<code>TRUE</code>) or is it a percentage of
consumption in the pipe segment (<code>FALSE</code>)?
Type: <code>[flag]</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>named list of regime parameters for the traced path with the next elements:</p><dl>
   <dt><code>temperature</code></dt><dd><p>calculated temperatures of heat carrier for all pipeline segments, [<em>°C</em>].
   Type: <code>[double]</code>.</p></dd>
   <dt><code>pressure</code></dt><dd><p>calculated pressures of heat carrier for all pipeline segments, [<em>MPa</em>].
   Type: <code>[double]</code>.</p></dd>
   <dt><code>consumption</code></dt><dd><p>calculated consumption(s) of heat carrier for all pipeline segments, [<em>ton/hour</em>].
   Type: <code>[double]</code>.</p></dd>
 
</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The calculated (values of) regime may be considered as representation of
 district heating process in conditions of hypothetically perfect
 technical state of pipe walls and insulation.</p>
<p>They consider only simple tracing paths which do not contain rings and any
 kind of parallelization. At the same time bidirectional (forward and
 backward) tracing is possible in accordance with sensor position. They also
 may consider discharges to network at the inlet of each pipeline segment
 as an approximation of actual forks of flows. Relevant illustration of
 adopted assumptions for 4-segment tracing path is depicted on the next
 figure.</p>
<p><img src='figures/m325regtrace.png' alt='' /></p>
<p>They make additional check for consistency of <code>inlet</code> and <code>outlet</code>
 values for subsequent pipe segments. Discrepancy of appropriate elevations
 cannot be more than <code>elev_tol</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='m325dropt.html'>m325dropt</a></code> for calculating normative temperature drop in
 single pipeline segment</p>
<p>Other Regime tracing: 
<code><a href='m325tracebw.html'>m325tracebw</a>()</code>,
<code><a href='m325tracefw.html'>m325tracefw</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Consider 4-segment tracing path depicted in ?m325regtrace help page.</span>
<span class='co'># First, let sensor readings for forward tracing:</span>
<span class='va'>t_fw</span> <span class='op'>&lt;-</span> <span class='fl'>130</span>  <span class='co'># [°C]</span>
<span class='va'>p_fw</span> <span class='op'>&lt;-</span> <span class='fl'>.588399</span><span class='op'>*</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/all.equal.data.table.html'>all.equal</a></span><span class='op'>(</span><span class='fl'>.588399</span>, <span class='fu'><a href='mpa_kgf.html'>mpa_kgf</a></span><span class='op'>(</span><span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span>  <span class='co'># [MPa]</span>
<span class='va'>g_fw</span> <span class='op'>&lt;-</span> <span class='fl'>250</span>  <span class='co'># [ton/hour]</span>

<span class='co'># Let discharges to network for each pipeline segment are somehow determined as</span>
<span class='va'>discharges</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>30</span>, <span class='fl'>10</span><span class='op'>)</span>  <span class='co'># [ton/hour]</span>

<span class='co'># Then the calculated regime (red squares) for forward tracing is</span>
<span class='va'>regime_fw</span> <span class='op'>&lt;-</span> <span class='fu'>m325traceline</span><span class='op'>(</span><span class='va'>t_fw</span>, <span class='va'>p_fw</span>, <span class='va'>g_fw</span>, <span class='va'>discharges</span>, forward <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>regime_fw</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $temperature
#&gt; [1] 129.1799 128.4269 127.9628 127.3367
#&gt; 
#&gt; $pressure
#&gt; [1] 0.5878607 0.5874226 0.5872143 0.5870330
#&gt; 
#&gt; $consumption
#&gt; [1] 250 240 220 190
#&gt; </div><div class='input'>
<span class='co'># $temperature</span>
<span class='co'># [1] 129.1799 128.4269 127.9628 127.3367</span>
<span class='co'>#</span>
<span class='co'># $pressure</span>
<span class='co'># [1] 0.5878607 0.5874226 0.5872143 0.5870330</span>
<span class='co'>#</span>
<span class='co'># $consumption</span>
<span class='co'># [1] 250 240 220 190</span>

<span class='co'># Next consider values of traced regime as sensor readings for backward tracing:</span>
<span class='va'>t_bw</span> <span class='op'>&lt;-</span> <span class='fl'>127.3367</span>  <span class='co'># [°C]</span>
<span class='va'>p_bw</span> <span class='op'>&lt;-</span> <span class='fl'>.5870330</span>  <span class='co'># [MPa]</span>
<span class='va'>g_bw</span> <span class='op'>&lt;-</span> <span class='fl'>190</span>  <span class='co'># [ton/hour]</span>

<span class='co'># Then the calculated regime (red squares) for backward tracing is</span>
<span class='va'>regime_bw</span> <span class='op'>&lt;-</span> <span class='fu'>m325traceline</span><span class='op'>(</span><span class='va'>t_bw</span>, <span class='va'>p_bw</span>, <span class='va'>g_bw</span>, <span class='va'>discharges</span>, forward <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>regime_bw</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $temperature
#&gt; [1] 129.9953 129.1769 128.4254 127.9619
#&gt; 
#&gt; $pressure
#&gt; [1] 0.5883998 0.5878611 0.5874228 0.5872144
#&gt; 
#&gt; $consumption
#&gt; [1] 250 250 240 220
#&gt; </div><div class='input'>
<span class='co'># $temperature</span>
<span class='co'># [1] 129.9953 129.1769 128.4254 127.9619</span>
<span class='co'>#</span>
<span class='co'># $pressure</span>
<span class='co'># [1] 0.5883998 0.5878611 0.5874228 0.5872144</span>
<span class='co'>#</span>
<span class='co'># $consumption</span>
<span class='co'># [1] 250 250 240 220</span>

<span class='co'># Let compare sensor readings with backward tracing results:</span>
<span class='va'>tracing</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span><span class='op'>(</span><span class='va'>regime_bw</span>, <span class='op'>{</span>
  <span class='va'>lambda</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>val</span>, <span class='va'>constraint</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>val</span>, <span class='va'>constraint</span>, <span class='va'>constraint</span> <span class='op'>-</span> <span class='va'>val</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>constraint</span> <span class='op'>-</span> <span class='va'>val</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span><span class='op'>/</span><span class='va'>constraint</span><span class='op'>)</span>
  <span class='va'>first</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
  <span class='fu'><a href='https://rdrr.io/r/base/structure.html'>structure</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/rbindlist.html'>rbind</a></span><span class='op'>(</span>
      <span class='fu'>lambda</span><span class='op'>(</span><span class='va'>temperature</span><span class='op'>[</span><span class='va'>first</span><span class='op'>]</span>, <span class='va'>t_fw</span><span class='op'>)</span>,
      <span class='fu'>lambda</span><span class='op'>(</span><span class='va'>pressure</span><span class='op'>[</span><span class='va'>first</span><span class='op'>]</span>,    <span class='va'>p_fw</span><span class='op'>)</span>,
      <span class='fu'>lambda</span><span class='op'>(</span><span class='va'>consumption</span><span class='op'>[</span><span class='va'>first</span><span class='op'>]</span>, <span class='va'>g_fw</span><span class='op'>)</span>
    <span class='op'>)</span>,
    dimnames <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"temperature"</span>, <span class='st'>"pressure"</span>, <span class='st'>"consumption"</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sensor.value"</span>, <span class='st'>"traced.value"</span>, <span class='st'>"abs.discr"</span>, <span class='st'>"rel.discr"</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>tracing</span><span class='op'>)</span>
</div><div class='output co'>#&gt;             sensor.value traced.value     abs.discr    rel.discr
#&gt; temperature  129.9952943   130.000000  4.705723e-03 0.0036197868
#&gt; pressure       0.5883998     0.588399 -8.290938e-07 0.0001409067
#&gt; consumption  250.0000000   250.000000  0.000000e+00 0.0000000000</div><div class='input'>
<span class='co'># sensor.value traced.value     abs.discr    rel.discr</span>
<span class='co'># temperature   130.000000  129.9952943  4.705723e-03 0.0036197868</span>
<span class='co'># pressure        0.588399    0.5883998 -8.290938e-07 0.0001409067</span>
<span class='co'># consumption   250.000000  250.0000000  0.000000e+00 0.0000000000</span>

<span class='co'># Light unit test:</span>
<span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/all.html'>all</a></span><span class='op'>(</span><span class='va'>tracing</span><span class='op'>[</span>,<span class='st'>'rel.discr'</span><span class='op'>]</span> <span class='op'>&lt;</span> <span class='fl'>4e-3</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Usage along with data.table:</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='st'>"data.table"</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/installed.packages.html'>installed.packages</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># Consider 4-segment tracing path depicted in ?m325regtrace help page</span>
  <span class='co'># Put parameters of traced path to data.table:</span>
  <span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>
    segment_id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq_len</a></span><span class='op'>(</span><span class='fl'>4</span><span class='op'>)</span>,
    segment_length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>600</span>, <span class='fl'>530</span>, <span class='fl'>300</span>, <span class='fl'>350</span><span class='op'>)</span>,  <span class='co'># [m]</span>
    discharge <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>30</span>, <span class='fl'>10</span><span class='op'>)</span>  <span class='co'># [ton/hour]</span>
    <span class='co'># put other path parameters (usually taken from GIS)</span>
  <span class='op'>)</span>
  <span class='co'># Trace the path backward:</span>
  <span class='va'>path</span><span class='op'>[</span>,
       <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"traced_t"</span>, <span class='st'>"traced_p"</span>, <span class='st'>"traced_g"</span><span class='op'>)</span> <span class='op'>:=</span> <span class='fu'>m325regtrace</span><span class='op'>(</span>
         temperature <span class='op'>=</span> <span class='fl'>127.3367</span>,  <span class='co'># [°C]</span>
         pressure <span class='op'>=</span> <span class='fl'>.5870330</span>,  <span class='co'># [MPa]</span>
         consumption <span class='op'>=</span> <span class='fl'>190</span>,  <span class='co'># [ton/hour]</span>
         g <span class='op'>=</span> <span class='va'>discharge</span>, len <span class='op'>=</span> <span class='va'>segment_length</span>,
         forward <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
  <span class='op'>]</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>path</span><span class='op'>)</span>

  <span class='co'>#    segment_id segment_length discharge temperature  pressure consumption</span>
  <span class='co'># 1:          1            600         0    129.9953 0.5883998         250</span>
  <span class='co'># 2:          2            530        10    129.1769 0.5878611         250</span>
  <span class='co'># 3:          3            300        20    128.4254 0.5874228         240</span>
  <span class='co'># 4:          4            350        30    127.9619 0.5872144         220</span>
<span class='op'>}</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Yuri Possokhov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


